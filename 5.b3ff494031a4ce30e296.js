(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{wO9B:function(e,t,n){"use strict";n.r(t),n.d(t,"GevModule",function(){return ae});var s=n("SVse"),r=n("iInd");class c{constructor(e,t,n,s,r,c,i){this.id=e,this.geskz=t,this.sdnr=n,this.sdTyp=s,this.sdUrsache=r,this.sparte=c,this.vnr=i}}var i=n("8Y7J"),a=n("z6cu"),h=n("un/a"),b=n("JIr8"),o=n("lJxs"),d=n("rkef"),l=n("IheW");let u=(()=>{class e{constructor(e,t){this.schadenHttp=e,this.schadenAPI=t}getAll(){return this.schadenHttp.get(`${this.schadenAPI}/schaden`).pipe(Object(h.a)(3),Object(b.a)(this.errorHandler))}getSingleKlasse(e){return this.schadenHttp.get(`${this.schadenAPI}/schaden/${e}`).pipe(Object(h.a)(3),Object(o.a)(e=>class{static empty(){return{id:"",geskz:"",sdnr:"",sdTyp:"",sdUrsache:"",sparte:"",vnr:""}}static vonDenRohdaten(e){return Object.assign({},e)}static fromLfdnrRaw(e){return Object.assign({},e)}}.vonDenRohdaten(e)),Object(b.a)(this.errorHandler))}getSingleObservable(e){return this.schadenHttp.get(`${this.schadenAPI}/schaden/${e}`).pipe(Object(h.a)(3),Object(b.a)(this.errorHandler))}getSingleURL(){return`${this.schadenAPI}/schaden`}getSingleApiPfad(){return`${this.schadenAPI}`}remove(e){return this.schadenHttp.delete(`${this.schadenAPI}/schaden/${e}`,{responseType:"text"})}update(e,t){return this.schadenHttp.put(`${this.schadenAPI}/schaden/${t}`,e,{responseType:"text"}).pipe(Object(b.a)(this.errorHandler))}create(e){return this.schadenHttp.post(`${this.schadenAPI}/schaden`,e,{responseType:"text"}).pipe(Object(b.a)(this.errorHandler))}updateLfdnr(e){return this.schadenHttp.put(`${this.schadenAPI}/schadenlfdnr/1`,e,{responseType:"text"}).pipe(Object(b.a)(this.errorHandler))}getLfdnrAll(){return this.schadenHttp.get(`${this.schadenAPI}/schadenlfdnr`).pipe(Object(h.a)(3),Object(b.a)(this.errorHandler))}check(e){return console.log("sdnr-in-check"),console.log(e),this.schadenHttp.get(`${this.schadenAPI}/schaden/${e}`).pipe(Object(b.a)(this.errorHandler))}errorHandler(e){return console.error("Fehler aufgetreten im SchadenStoreService"),Object(a.a)(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(l.a),i.Rb(d.a))},e.\u0275prov=i.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Cb({type:e,selectors:[["sd-schaden-kopf"]],decls:7,vars:0,consts:[["src","./../../../assets/images/gev_logo.jpg"]],template:function(e,t){1&e&&(i.Nb(0,"table"),i.Nb(1,"tr"),i.Nb(2,"td"),i.Nb(3,"h1"),i.lc(4,"SCHADEN - System der GENERALI"),i.Mb(),i.Mb(),i.Nb(5,"td"),i.Jb(6,"img",0),i.Mb(),i.Mb(),i.Mb())},styles:[""]}),e})();var g=n("s7LF");function f(e,t){if(1&e&&(i.Nb(0,"div",1),i.lc(1),i.Mb()),2&e){const e=t.$implicit;i.yb(1),i.nc(" ",e,"\n")}}let m=(()=>{class e{constructor(){this.allMessages={sdnr:{sdnrFormat:"Die SDNR muss aus 9 Zeichen bestehen",sdnrNum:"Die SDNR muss numerisch sein",sdnrVorhanden:"Die SDNR ist unbekannt"},vnr:{vnrFormat:"Die VNR muss aus 14 Zeichen bestehen.",vnrNum:"Die VNR muss numerisch sein",vnrVorhanden:"Die VNR ist unbekannt"},sdTyp:{required:"Der Schadentyp muss vorhanden sein"},sdUrsache:{required:"Die Schadenursache muss vorhanden sein"},sparte:{required:"Die Sparte muss vorhanden sein"}}}ngOnInit(){}errorsForControl(){const e=this.allMessages[this.controlName];return this.control&&this.control.errors&&e&&this.control.dirty?Object.keys(this.control.errors).map(t=>e[t]):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Cb({type:e,selectors:[["sd-fehlermeldungen"]],inputs:{control:"control",controlName:"controlName"},decls:1,vars:1,consts:[["class","ui negative message",4,"ngFor","ngForOf"],[1,"ui","negative","message"]],template:function(e,t){1&e&&i.jc(0,f,2,1,"div",0),2&e&&i.ac("ngForOf",t.errorsForControl())},directives:[s.i],styles:[""]}),e})();const N=function(e){return["../../",e]};function v(e,t){if(1&e&&(i.Lb(0),i.Nb(1,"a",12),i.Jb(2,"i",13),i.lc(3," Bearbeitung abbrechen "),i.Mb(),i.Kb()),2&e){const e=i.Wb();i.yb(1),i.ac("routerLink",i.cc(1,N,e.schadenKlasse.sdnr))}}const y=function(){return["../../"]};function M(e,t){1&e&&(i.Lb(0),i.Nb(1,"a",12),i.Jb(2,"i",13),i.lc(3," Bearbeitung abbrechen "),i.Mb(),i.Kb()),2&e&&(i.yb(1),i.ac("routerLink",i.bc(1,y)))}let S=(()=>{class e{constructor(e){this.fb=e,this.submitSchaden=new i.n}ngOnInit(){this.initForm()}ngOnChanges(){this.initForm(),this.setFormValues(this.schadenKlasse)}setFormValues(e){this.schadenForm.setValue({sdTyp:e.sdTyp,sdUrsache:e.sdUrsache,sparte:e.sparte,vnr:e.vnr})}initForm(){this.schadenForm||this.initFormBuilder()}initFormBuilder(){this.schadenForm=this.fb.group({sdTyp:[{value:"",disabled:!1},[g.h.required]],sdUrsache:[{value:"",disabled:!1},[g.h.required]],sparte:[{value:this.schadenKlasse.sparte,disabled:!1},[g.h.required]],vnr:[{value:this.schadenKlasse.vnr,disabled:!1},[g.h.required]]})}submitForm(){const e=this.schadenForm.value,t={id:"",geskz:"",sdnr:"",sdTyp:"",sdUrsache:"",sparte:"",vnr:""};t.sdTyp=e.sdTyp,t.sdUrsache=e.sdUrsache,t.sparte=e.sparte,t.vnr=e.vnr,t.geskz=this.schadenKlasse.geskz,t.sdnr=this.schadenKlasse.sdnr,t.id=this.schadenKlasse.id,this.submitSchaden.emit(t),this.schadenForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(i.Ib(g.b))},e.\u0275cmp=i.Cb({type:e,selectors:[["sd-schaden-form"]],inputs:{schadenKlasse:"schadenKlasse"},outputs:{submitSchaden:"submitSchaden"},features:[i.wb],decls:26,vars:8,consts:[[1,"ui","form",3,"formGroup","ngSubmit"],["formControlName","sdTyp","type","text"],["controlName","sdTyp",3,"control"],["formControlName","sdUrsache","type","text"],["controlName","sdUrsache",3,"control"],["formControlName","sparte","type","text"],["controlName","sparte",3,"control"],["formControlName","vnr","type","text"],["controlName","vnr",3,"control"],["type","submit",1,"ui","tiny","green","labeled","icon","button",3,"disabled"],[1,"write","icon"],[4,"ngIf"],[1,"ui","tiny","red","labeled","icon","button",3,"routerLink"],[1,"remove","icon"]],template:function(e,t){1&e&&(i.Nb(0,"form",0),i.Ub("ngSubmit",function(){return t.submitForm()}),i.Nb(1,"label"),i.Nb(2,"h3"),i.lc(3,"SD-TYP"),i.Mb(),i.Mb(),i.Jb(4,"input",1),i.Jb(5,"sd-fehlermeldungen",2),i.Nb(6,"label"),i.Nb(7,"h3"),i.lc(8,"SD-URSACHE"),i.Mb(),i.Mb(),i.Jb(9,"input",3),i.Jb(10,"sd-fehlermeldungen",4),i.Nb(11,"label"),i.Nb(12,"h3"),i.lc(13,"SPARTE"),i.Mb(),i.Mb(),i.Jb(14,"input",5),i.Jb(15,"sd-fehlermeldungen",6),i.Nb(16,"label"),i.Nb(17,"h3"),i.lc(18,"VNR"),i.Mb(),i.Mb(),i.Jb(19,"input",7),i.Jb(20,"sd-fehlermeldungen",8),i.Nb(21,"button",9),i.Jb(22,"i",10),i.lc(23,"Speichern "),i.Mb(),i.jc(24,v,4,3,"ng-container",11),i.jc(25,M,4,2,"ng-container",11),i.Mb()),2&e&&(i.ac("formGroup",t.schadenForm),i.yb(5),i.ac("control",t.schadenForm.get("sdTyp")),i.yb(5),i.ac("control",t.schadenForm.get("sdUrsache")),i.yb(5),i.ac("control",t.schadenForm.get("sparte")),i.yb(5),i.ac("control",t.schadenForm.get("vnr")),i.yb(1),i.ac("disabled",t.schadenForm.invalid),i.yb(3),i.ac("ngIf","999999999"!==t.schadenKlasse.sdnr),i.yb(1),i.ac("ngIf","999999999"===t.schadenKlasse.sdnr))},directives:[g.i,g.f,g.d,g.a,g.e,g.c,m,s.j,r.e],styles:[""]}),e})();function I(e,t){if(1&e&&(i.Lb(0),i.Nb(1,"div"),i.lc(2,"Interface vorhanden"),i.Mb(),i.lc(3),i.Kb()),2&e){const e=i.Wb();i.yb(3),i.nc(" ",e.lfdnr.id,"\n")}}let O=(()=>{class e{constructor(e,t,n){this.ss=e,this.route=t,this.router=n,this.schaden=new c("","","","","","",""),this.sdnrLfdnr="",this.sdnrLfdnrNumerisch=0,this.vnr="",this.sparte=""}ngOnInit(){this.route.queryParams.subscribe(e=>{this.vnr=e.vnr,this.sparte=e.sparte,this.initLeerschaden()})}initLeerschaden(){this.schaden.geskz="00",this.schaden.sdnr="999999999",this.schaden.id="999999999",this.schaden.vnr=this.vnr,this.schaden.sparte=this.sparte}createSchaden(e){this.ss.getLfdnrAll().subscribe(t=>{this.lfdnr=t,this.sdnrLfdnr=this.ermittleLfdnr(this.lfdnr),this.sdnrSetzen(this.sdnrLfdnr,e),this.ss.create(e).subscribe(()=>{this.schaden=e,this.sdnrLfdnrNumerisch=parseInt(this.sdnrLfdnr,10),this.sdnrLfdnrNumerisch=this.sdnrLfdnrNumerisch+100;const t={id:"1",sdnr:this.sdnrLfdnrNumerisch.toString()};this.ss.updateLfdnr(t).subscribe(()=>{this.router.navigate(["../..",this.schaden.sdnr],{relativeTo:this.route})})})})}ermittleLfdnr(e){return this.sdnrLfdnr=e[0].sdnr,this.sdnrLfdnr}sdnrSetzen(e,t){t.sdnr=e,t.id=e}}return e.\u0275fac=function(t){return new(t||e)(i.Ib(u),i.Ib(r.a),i.Ib(r.c))},e.\u0275cmp=i.Cb({type:e,selectors:[["sd-create-schaden"]],decls:10,vars:2,consts:[[4,"ngIf"],[3,"schadenKlasse","submitSchaden"]],template:function(e,t){1&e&&(i.Jb(0,"sd-schaden-kopf"),i.jc(1,I,4,1,"ng-container",0),i.Nb(2,"h2"),i.Nb(3,"span"),i.lc(4,"SCHADENANLAGE - "),i.Mb(),i.lc(5,"Sie k\xf6nnen nun Ihren "),i.Nb(6,"span"),i.lc(7,"Neuschaden"),i.Mb(),i.lc(8," anlegen"),i.Mb(),i.Nb(9,"sd-schaden-form",1),i.Ub("submitSchaden",function(e){return t.createSchaden(e)}),i.Mb()),2&e&&(i.yb(1),i.ac("ngIf",t.lfdnr),i.yb(8),i.ac("schadenKlasse",t.schaden))},directives:[p,s.j,S],styles:["h3[_ngcontent-%COMP%]{color:red}h2[_ngcontent-%COMP%]{color:#8b0000}span[_ngcontent-%COMP%]{color:#0000cd}"]}),e})();function w(e,t){if(1&e){const e=i.Ob();i.Lb(0),i.Nb(1,"sd-schaden-form",2),i.Ub("submitSchaden",function(t){return i.gc(e),i.Wb().updateSchaden(t)}),i.Mb(),i.Kb()}if(2&e){const e=t.ngIf;i.yb(1),i.ac("schadenKlasse",e)}}let D=(()=>{class e{constructor(e,t,n){this.ss=e,this.route=t,this.router=n}ngOnInit(){const e=this.route.snapshot.paramMap,t=e.get("sdnr");this.sdnr=e.get("sdnr"),this.schaeden$=this.ss.getSingleObservable(t)}updateSchaden(e){this.ss.update(e,this.sdnr).subscribe(()=>{this.router.navigate(["../..",e.sdnr],{relativeTo:this.route})})}}return e.\u0275fac=function(t){return new(t||e)(i.Ib(u),i.Ib(r.a),i.Ib(r.c))},e.\u0275cmp=i.Cb({type:e,selectors:[["sd-edit-schaden"]],decls:15,vars:13,consts:[[1,"content"],[4,"ngIf"],[1,"item",3,"schadenKlasse","submitSchaden"]],template:function(e,t){1&e&&(i.Jb(0,"sd-schaden-kopf"),i.Jb(1,"BR"),i.Nb(2,"div",0),i.Nb(3,"h2"),i.Nb(4,"span"),i.lc(5,"SCHADENBEARBEITUNG -"),i.Mb(),i.lc(6,"Sie k\xf6nnen Ihren Schaden "),i.Nb(7,"span"),i.lc(8),i.Xb(9,"slice"),i.Xb(10,"slice"),i.Mb(),i.lc(11," bearbeiten"),i.Mb(),i.Mb(),i.Jb(12,"BR"),i.jc(13,w,2,1,"ng-container",1),i.Xb(14,"async")),2&e&&(i.yb(8),i.oc("",i.Zb(9,3,t.sdnr,0,7)," / ",i.Zb(10,7,t.sdnr,7,9)," "),i.yb(5),i.ac("ngIf",i.Yb(14,11,t.schaeden$)))},directives:[p,s.j,S],pipes:[s.m,s.b],styles:["h3[_ngcontent-%COMP%]{color:red}h2[_ngcontent-%COMP%]{color:#8b0000}span[_ngcontent-%COMP%]{color:#0000cd}"]}),e})(),j=(()=>{class e{constructor(e){this.schadenHttp=e,this.zustaendigAPI="http://localhost:3000"}getSingle(e){return this.schadenHttp.get(`${this.zustaendigAPI}/zustaendig/${e}`).pipe(Object(h.a)(3),Object(b.a)(this.errorHandler))}errorHandler(e){return console.error("Fehler aufgetreten im SchadenStoreService"),Object(a.a)(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(l.a))},e.\u0275prov=i.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function k(e,t){if(1&e&&(i.Lb(0),i.Nb(1,"div",0),i.Nb(2,"h3"),i.lc(3,"Schadendaten allgemein"),i.Mb(),i.Mb(),i.Jb(4,"BR"),i.Nb(5,"table",4),i.Nb(6,"tr"),i.Nb(7,"TD",5),i.Nb(8,"h4"),i.lc(9,"GES-KZ"),i.Mb(),i.Mb(),i.Nb(10,"TD",6),i.Nb(11,"h4"),i.lc(12,"Schadennummer"),i.Mb(),i.Mb(),i.Nb(13,"TD",7),i.Nb(14,"h4"),i.lc(15,"SD-Typ"),i.Mb(),i.Mb(),i.Nb(16,"TD",8),i.Nb(17,"h4"),i.lc(18,"SD-Ursache"),i.Mb(),i.Mb(),i.Nb(19,"TD",7),i.Nb(20,"h4"),i.lc(21,"Sparte"),i.Mb(),i.Mb(),i.Nb(22,"TD",9),i.Nb(23,"h4"),i.lc(24,"VNR"),i.Mb(),i.Mb(),i.Mb(),i.Nb(25,"tr",10),i.Nb(26,"TD",7),i.Nb(27,"B"),i.lc(28),i.Mb(),i.Mb(),i.Nb(29,"TD",6),i.Nb(30,"B"),i.lc(31),i.Mb(),i.Mb(),i.Nb(32,"TD",7),i.Nb(33,"B"),i.lc(34),i.Mb(),i.Mb(),i.Nb(35,"TD",7),i.Nb(36,"B"),i.lc(37),i.Mb(),i.Mb(),i.Nb(38,"TD",7),i.Nb(39,"B"),i.lc(40),i.Mb(),i.Mb(),i.Nb(41,"TD",7),i.Nb(42,"B"),i.lc(43),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Kb()),2&e){const e=t.ngIf;i.yb(28),i.mc(e.geskz),i.yb(3),i.mc(e.sdnr),i.yb(3),i.mc(e.sdTyp),i.yb(3),i.mc(e.sdUrsache),i.yb(3),i.mc(e.sparte),i.yb(3),i.mc(e.vnr)}}function F(e,t){if(1&e&&(i.Lb(0),i.Nb(1,"div",0),i.Nb(2,"h3"),i.lc(3,"Zust\xe4ndigkeit"),i.Mb(),i.Mb(),i.Jb(4,"BR"),i.Nb(5,"table",4),i.Nb(6,"tr"),i.Nb(7,"TD",11),i.Nb(8,"h4"),i.lc(9,"Bearbeitende Gesellschaft"),i.Mb(),i.Mb(),i.Nb(10,"TD",6),i.Nb(11,"h4"),i.lc(12,"Sachbearbeiter"),i.Mb(),i.Mb(),i.Mb(),i.Nb(13,"tr",10),i.Nb(14,"TD",11),i.Nb(15,"B"),i.lc(16),i.Mb(),i.Mb(),i.Nb(17,"TD",6),i.Nb(18,"B"),i.lc(19),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Kb()),2&e){const e=t.ngIf;i.yb(16),i.mc(e.bearbGs),i.yb(3),i.mc(e.referat)}}const T=function(e){return["../../gev/edit",e]},L=function(){return["../../gev/"]};function C(e,t){if(1&e){const e=i.Ob();i.Nb(0,"div"),i.Nb(1,"button",12),i.Ub("click",function(){return i.gc(e),i.Wb().removeSchaden()}),i.Jb(2,"i",13),i.lc(3," Schaden l\xf6schen "),i.Mb(),i.Nb(4,"a",14),i.Jb(5,"i",15),i.lc(6," Schaden bearbeiten "),i.Mb(),i.Nb(7,"a",16),i.Jb(8,"i",17),i.lc(9,"Zur\xfcck zur Suche "),i.Mb(),i.Mb()}if(2&e){const e=t.ngIf;i.yb(4),i.ac("routerLink",i.cc(2,T,e.sdnr)),i.yb(3),i.ac("routerLink",i.bc(4,L))}}function $(e,t){1&e&&i.Jb(0,"div",18)}let R=(()=>{class e{constructor(e,t,n,s){this.ss=e,this.zs=t,this.route=n,this.router=s}ngOnInit(){this.schaden$=this.ss.getSingleObservable(this.route.snapshot.paramMap.get("sdnr")),this.schaden$.subscribe(e=>{this.schaden=e,this.zustaendig$=this.zs.getSingle(this.ermittleId(this.schaden.sparte))})}ngOnChanges(){this.schaden$=this.ss.getSingleObservable(this.route.snapshot.paramMap.get("sdnr")),this.schaden$.subscribe(e=>{this.schaden=e,this.zustaendig$=this.zs.getSingle(this.ermittleId(this.schaden.sparte))})}removeSchaden(){if(confirm("Schaden wirklich l\xf6schen?")){const e=this.route.snapshot.paramMap.get("sdnr");this.ss.remove(e).subscribe(e=>this.router.navigate(["../"],{relativeTo:this.route}))}}ermittleId(e){let t="";return"KS"===e&&(t="1"),"HS"===e&&(t="2"),"SS"===e&&(t="3"),t}}return e.\u0275fac=function(t){return new(t||e)(i.Ib(u),i.Ib(j),i.Ib(r.a),i.Ib(r.c))},e.\u0275cmp=i.Cb({type:e,selectors:[["sd-schaden-details"]],features:[i.wb],decls:18,vars:10,consts:[[1,"content"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],["border","2"],["width","70"],["width","150"],["width","100"],["width","120"],["width","140"],["align","center"],["width","200"],[1,"ui","tiny","red","labeled","icon","button",3,"click"],[1,"remove","icon"],[1,"ui","tiny","green","labeled","icon","button",3,"routerLink"],[1,"write","icon"],[1,"ui","tiny","yellow","labeled","icon","button",3,"routerLink"],[1,"left","arrow","icon"],[1,"ui","actice","centered","inline","loader"]],template:function(e,t){if(1&e&&(i.Jb(0,"sd-schaden-kopf"),i.Jb(1,"BR"),i.Nb(2,"div",0),i.Nb(3,"h2"),i.Nb(4,"span"),i.lc(5,"SCHADENAUSKUNFT - "),i.Mb(),i.lc(6," Was wollen Sie als n\xe4chstes tun?"),i.Mb(),i.Mb(),i.Jb(7,"BR"),i.jc(8,k,44,6,"ng-container",1),i.Xb(9,"async"),i.Jb(10,"BR"),i.jc(11,F,20,2,"ng-container",1),i.Xb(12,"async"),i.Jb(13,"BR"),i.jc(14,C,10,5,"div",2),i.Xb(15,"async"),i.jc(16,$,1,0,"ng-template",null,3,i.kc)),2&e){const e=i.fc(17);i.yb(8),i.ac("ngIf",i.Yb(9,4,t.schaden$)),i.yb(3),i.ac("ngIf",i.Yb(12,6,t.zustaendig$)),i.yb(3),i.ac("ngIf",i.Yb(15,8,t.schaden$))("ngIfElse",e)}},directives:[p,s.j,r.e],pipes:[s.b],styles:["h4[_ngcontent-%COMP%]{color:#00f}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#8b0000}span[_ngcontent-%COMP%]{color:#0000cd}a[_ngcontent-%COMP%]{color:#000}a[_ngcontent-%COMP%]:hover{color:#8b0000}"]}),e})();var A=n("3o6H"),J=n("HDdC"),H=n("quSY");class P extends H.a{constructor(e,t){super()}schedule(e,t=0){return this}}class E extends P{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,s=!1;try{this.work(e)}catch(r){s=!0,n=!!r&&r||new Error(r)}if(s)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,s=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&n.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let K=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class U extends K{constructor(e,t=K.now){super(e,()=>U.delegate&&U.delegate!==this?U.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return U.delegate&&U.delegate!==this?U.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const B=new U(E);var x=n("DH7j");function G(e){return!Object(x.a)(e)&&e-parseFloat(e)+1>=0}var z=n("z+Ro");function _(e){const{index:t,period:n,subscriber:s}=e;if(s.next(t),!s.closed){if(-1===n)return s.complete();e.index=t+1,this.schedule(e,n)}}var V=n("LRne"),q=n("eIep");let Y=(()=>{class e{constructor(e,t){this.ss=e,this.http=t}sucheSchaden(e){const t=this.ss.getSingleURL();return function(e=0,t,n){let s=-1;return G(t)?s=Number(t)<1?1:Number(t):Object(z.a)(t)&&(n=t),Object(z.a)(n)||(n=B),new J.a(t=>{const r=G(e)?e:+e-n.now();return n.schedule(_,r,{index:0,period:s,subscriber:t})})}(200).pipe(Object(q.a)(()=>this.http.get(`${t}/${e}`)))}validate(e){return this.sucheSchaden(e.value).pipe(Object(o.a)(e=>{if(e)return console.log("schadenExists ist true"),null}),Object(b.a)(e=>404===e.status?(this.validationError={sdnrVorhanden:{valid:!1}},Object(V.a)(this.validationError)):Object(V.a)(null)))}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(u),i.Rb(l.a))},e.\u0275prov=i.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),X=(()=>{class e{constructor(e,t){this.ss=e,this.http=t}validate(e){const t=e.value;let n=0;return this.http.get(`${this.ss.getSingleURL()}`).pipe(Object(o.a)(e=>{for(let s=0;s<e.length;s++)e[s].vnr===t&&n++;return n>0?null:(this.validationError={vnrVorhanden:{valid:!1}},this.validationError)}),Object(b.a)(e=>404===e.status?(this.validationError={vnrVorhanden:{valid:!1}},console.log("404-durchlaufen"),Object(V.a)(this.validationError)):Object(V.a)(null)))}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(u),i.Rb(l.a))},e.\u0275prov=i.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),W=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Cb({type:e,selectors:[["sd-schaden-liste-item"]],inputs:{schaden:"schaden"},decls:40,vars:6,consts:[[1,"content"],["width","100"],["width","150"]],template:function(e,t){1&e&&(i.Nb(0,"div",0),i.Nb(1,"table"),i.Nb(2,"tr"),i.Nb(3,"TD",1),i.Nb(4,"h4"),i.lc(5,"GES-KZ"),i.Mb(),i.Mb(),i.Nb(6,"TD",2),i.Nb(7,"h4"),i.lc(8,"Schadennummer"),i.Mb(),i.Mb(),i.Nb(9,"TD",1),i.Nb(10,"h4"),i.lc(11,"SD-Typ"),i.Mb(),i.Mb(),i.Nb(12,"TD",1),i.Nb(13,"h4"),i.lc(14,"SD-Ursache"),i.Mb(),i.Mb(),i.Nb(15,"TD",1),i.Nb(16,"h4"),i.lc(17,"Sparte"),i.Mb(),i.Mb(),i.Nb(18,"TD",1),i.Nb(19,"h4"),i.lc(20,"VNR"),i.Mb(),i.Mb(),i.Mb(),i.Nb(21,"tr"),i.Nb(22,"TD"),i.Nb(23,"span"),i.lc(24),i.Mb(),i.Mb(),i.Nb(25,"TD"),i.Nb(26,"span"),i.lc(27),i.Mb(),i.Mb(),i.Nb(28,"TD"),i.Nb(29,"span"),i.lc(30),i.Mb(),i.Mb(),i.Nb(31,"TD"),i.Nb(32,"span"),i.lc(33),i.Mb(),i.Mb(),i.Nb(34,"TD"),i.Nb(35,"span"),i.lc(36),i.Mb(),i.Mb(),i.Nb(37,"TD"),i.Nb(38,"span"),i.lc(39),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb()),2&e&&(i.yb(24),i.nc(" ",t.schaden.geskz," "),i.yb(3),i.nc(" ",t.schaden.sdnr," "),i.yb(3),i.nc(" ",t.schaden.sdTyp," "),i.yb(3),i.nc(" ",t.schaden.sdUrsache," "),i.yb(3),i.nc(" ",t.schaden.sparte," "),i.yb(3),i.nc(" ",t.schaden.vnr," "))},styles:[""]}),e})();function Z(e,t){1&e&&(i.Lb(0),i.Nb(1,"h3"),i.lc(2,"Bitte klicken Sie auf Ihren Schaden"),i.Mb(),i.Kb())}function Q(e,t){1&e&&(i.Lb(0),i.Nb(1,"h3"),i.lc(2,"Bitte w\xe4hlen Sie Ihren Schaden"),i.Mb(),i.Kb())}const ee=function(e){return["/gev",e]};function te(e,t){if(1&e&&(i.Lb(0),i.Nb(1,"a",9),i.Jb(2,"sd-schaden-liste-item",10),i.Mb(),i.Kb()),2&e){const e=t.ngIf;i.yb(1),i.ac("routerLink",i.cc(2,ee,e.sdnr)),i.yb(1),i.ac("schaden",e)}}function ne(e,t){if(1&e&&(i.Lb(0),i.Nb(1,"a",9),i.Jb(2,"sd-schaden-liste-item",10),i.Mb(),i.Kb()),2&e){const e=i.Wb().$implicit;i.yb(1),i.ac("routerLink",i.cc(2,ee,e.sdnr)),i.yb(1),i.ac("schaden",e)}}function se(e,t){if(1&e&&(i.Lb(0),i.jc(1,ne,3,4,"ng-container",7),i.Kb()),2&e){const e=t.$implicit,n=i.Wb(2);i.yb(1),i.ac("ngIf",e.vnr===n.vnr)}}function re(e,t){if(1&e&&(i.Lb(0),i.jc(1,se,2,1,"ng-container",11),i.Kb()),2&e){const e=t.ngIf;i.yb(1),i.ac("ngForOf",e)}}const ce=[{path:"",component:(()=>{class e{constructor(e,t,n,s,r){this.router=e,this.fb=t,this.ss=n,this.sdnrExistService=s,this.vnrExistService=r,this.sdnrGesperrt=!1,this.vnrGesperrt=!1,this.href=""}ngOnInit(){this.umgebungSetzen(),this.initForm()}ngOnChanges(){this.initForm(),this.setFormValues(this.suche)}setFormValues(e){this.sucheForm.patchValue(e)}taste(e){const t=this.sucheForm.value,n=t.sdnr,s=t.vnr;this.vnrGesperrt=n.length>0,this.sdnrGesperrt=s.length>0,9===n.length&&console.log("L\xe4nge erkannt")}initForm(){this.sucheForm||this.initFormBuilder()}initFormBuilder(){this.sucheForm=this.fb.group({sdnr:[{value:"",disabled:this.sdnrGesperrt},[A.a.sdnrNum,A.a.sdnrFormat],[this.sdnrExistService]],vnr:[{value:"",disabled:this.vnrGesperrt},[A.a.vnrNum,A.a.vnrFormat]]})}suchenObgr(){const e=this.sucheForm.value;this.sdnrGesperrt=!1,this.vnrGesperrt=!1,this.sucheForm.reset(),this.initFormBuilder(),this.sdnr=e.sdnr,this.vnr=e.vnr,9===this.sdnr.length?(this.schadenHolen(),this.schaeden$=null):14===this.vnr.length&&(this.vnrHolen(),this.schaden$=null)}schadenHolen(){this.schaden$=this.ss.getSingleObservable(this.sdnr)}vnrHolen(){this.schaeden$=this.ss.getAll()}umgebungSetzen(){this.href=this.router.url,"/gev"===this.href&&(this.umgebung="generali",this.titel="Schadensystem der Generali",this.url="./../../../assets/imgages/gev_logo.jpg"),"/div"===this.href&&(this.umgebung="dialog",this.titel="Schadensystem der Dialog",this.url="./../../../assets/imgages/div_logo.jpg")}}return e.\u0275fac=function(t){return new(t||e)(i.Ib(r.c),i.Ib(g.b),i.Ib(u),i.Ib(Y),i.Ib(X))},e.\u0275cmp=i.Cb({type:e,selectors:[["sd-suche-start"]],features:[i.wb],decls:34,vars:18,consts:[[1,"ui","form",3,"formGroup"],["formControlName","sdnr","type","text","placeholder","Geben Sie bitte eine SDNR ein ...",3,"readOnly","keyup"],["controlName","sdnr",3,"control"],["formControlName","vnr","type","text","placeholder","Geben Sie bitte eine VNR ein ...",3,"readOnly","keyup"],["controlName","vnr",3,"control"],["type","submit",1,"ui","tiny","green","labeled","icon","button",3,"disabled","click"],[1,"right","arrow","icon"],[4,"ngIf"],[1,"ui","middle","aligned","selection","divided","list"],["routerLinkActive","active",3,"routerLink"],[1,"item",3,"schaden"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i.Jb(0,"sd-schaden-kopf"),i.Nb(1,"h2"),i.Nb(2,"span"),i.lc(3,"SCHADENSUCHE - "),i.Mb(),i.lc(4," Geben Sie bitte Ihren Suchbegriff ein"),i.Mb(),i.Jb(5,"BR"),i.Nb(6,"form",0),i.Nb(7,"label"),i.Nb(8,"h3"),i.lc(9,"SDNR"),i.Mb(),i.Mb(),i.Nb(10,"input",1),i.Ub("keyup",function(e){return t.taste(e)}),i.Mb(),i.Jb(11,"sd-fehlermeldungen",2),i.Nb(12,"label"),i.Nb(13,"h3"),i.lc(14,"VNR"),i.Mb(),i.Mb(),i.Nb(15,"input",3),i.Ub("keyup",function(e){return t.taste(e)}),i.Mb(),i.Jb(16,"sd-fehlermeldungen",4),i.Nb(17,"table"),i.Nb(18,"tr"),i.Nb(19,"td"),i.Nb(20,"p"),i.Nb(21,"button",5),i.Ub("click",function(){return t.suchenObgr()}),i.Jb(22,"i",6),i.lc(23,"Suchen"),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.jc(24,Z,3,0,"ng-container",7),i.Xb(25,"async"),i.jc(26,Q,3,0,"ng-container",7),i.Xb(27,"async"),i.Nb(28,"div",8),i.jc(29,te,3,4,"ng-container",7),i.Xb(30,"async"),i.Mb(),i.Nb(31,"div",8),i.jc(32,re,2,1,"ng-container",7),i.Xb(33,"async"),i.Mb()),2&e&&(i.yb(6),i.ac("formGroup",t.sucheForm),i.yb(4),i.ac("readOnly",t.sdnrGesperrt),i.yb(1),i.ac("control",t.sucheForm.get("sdnr")),i.yb(4),i.ac("readOnly",t.vnrGesperrt),i.yb(1),i.ac("control",t.sucheForm.get("vnr")),i.yb(5),i.ac("disabled",t.sucheForm.invalid),i.yb(3),i.ac("ngIf",i.Yb(25,10,t.schaden$)),i.yb(2),i.ac("ngIf",i.Yb(27,12,t.schaeden$)),i.yb(3),i.ac("ngIf",i.Yb(30,14,t.schaden$)),i.yb(3),i.ac("ngIf",i.Yb(33,16,t.schaeden$)))},directives:[p,g.i,g.f,g.d,g.a,g.e,g.c,m,s.j,r.e,r.d,W,s.i],pipes:[s.b],styles:["h2[_ngcontent-%COMP%]{color:#8b0000}span[_ngcontent-%COMP%]{color:#0000cd}a[_ngcontent-%COMP%]{color:#000}a[_ngcontent-%COMP%]:hover{color:#8b0000}"]}),e})()},{path:":sdnr",component:R},{path:"edit/:sdnr",component:D},{path:"create/:sdnr",component:O}];let ie=(()=>{class e{}return e.\u0275mod=i.Gb({type:e}),e.\u0275inj=i.Fb({factory:function(t){return new(t||e)},imports:[[r.f.forChild(ce)],r.f]}),e})(),ae=(()=>{class e{}return e.\u0275mod=i.Gb({type:e}),e.\u0275inj=i.Fb({factory:function(t){return new(t||e)},imports:[[s.c,ie,g.g]]}),e})()}}]);